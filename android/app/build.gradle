plugins {
  id "com.android.application"
  id "org.jetbrains.kotlin.android"
  id "com.facebook.react"
  id "com.google.gms.google-services"
}

react {
  autolinkLibrariesWithApp()
  hermesEnabled = true
}

android {
  namespace = "com.pursadari"
  compileSdkVersion rootProject.ext.compileSdkVersion

  defaultConfig {
    applicationId "com.pursadari"
    minSdkVersion rootProject.ext.minSdkVersion
    targetSdkVersion rootProject.ext.targetSdkVersion
    versionCode 3
    versionName "0.1.0"
    buildConfigField "boolean", "IS_HERMES_ENABLED", "true"
  }

  signingConfigs {
    debug {
      storeFile file("debug.keystore")
      storePassword "android"
      keyAlias "androiddebugkey"
      keyPassword "android"
    }
    release {
      def f = rootProject.file("keystore.properties")
      if (f.exists()) {
        def p = new Properties(); p.load(new FileInputStream(f))
        storeFile rootProject.file(p["storeFile"]) 
        storePassword p["storePassword"]
        keyAlias p["keyAlias"]
        keyPassword p["keyPassword"]
      }
    }
  }

  buildTypes {
    debug {
      applicationIdSuffix ""
      debuggable true
      signingConfig signingConfigs.debug
    }
    release {
      minifyEnabled true
      proguardFiles getDefaultProguardFile("proguard-android.txt"), "proguard-rules.pro"
      signingConfig signingConfigs.release
    }
  }


  buildFeatures { buildConfig = true }
}

repositories {
  google()
  mavenCentral()
  gradlePluginPortal()
}

dependencies {
  implementation "androidx.appcompat:appcompat:1.6.1"
  implementation "com.facebook.react:react-android:0.81.0"
  implementation "com.facebook.react:hermes-android:0.81.0"
  implementation "org.jetbrains.kotlin:kotlin-stdlib:2.1.20"
  implementation 'com.google.firebase:firebase-firestore'
  implementation 'com.google.firebase:firebase-analytics'
  implementation platform('com.google.firebase:firebase-bom:33.1.0')
}
